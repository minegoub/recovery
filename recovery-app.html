
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø§ÙÙŠ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø®ÙÙŠÙØ©</title>
  <style>
    /* CSS CONTENT */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
    
    body {
      background-color: #f8f9fa;
      color: #333;
      direction: rtl;
      padding: 20px;
      max-width: 100%;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .header {
      text-align: center;
      margin-bottom: 20px;
    }
    
    .timer {
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      margin: 20px 0;
      color: #5850ec;
    }
    
    .progress-info {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
    }
    
    .progress-bar {
      height: 8px;
      background-color: #e2e8f0;
      border-radius: 4px;
      margin: 10px 0;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background-color: #5850ec;
      border-radius: 4px;
      transition: width 0.3s;
    }
    
    .message-box {
      background-color: #f0f5ff;
      border-right: 4px solid #5850ec;
      padding: 15px;
      margin: 20px 0;
      border-radius: 8px;
    }
    
    .next-milestone {
      display: flex;
      align-items: center;
      margin: 20px 0;
      padding: 15px;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    
    .milestone-icon {
      font-size: 24px;
      margin-left: 15px;
      color: #805ad5;
    }
    
    .milestone-info {
      flex: 1;
    }
    
    .badge-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 20px 0;
    }
    
    .badge {
      background-color: #f9f9f9;
      border-radius: 8px;
      padding: 10px;
      text-align: center;
      transition: transform 0.2s;
    }
    
    .badge:active {
      transform: scale(0.95);
    }
    
    .badge-icon {
      font-size: 24px;
      margin-bottom: 5px;
    }
    
    .badge.achieved {
      background-color: #f0fff4;
      border: 1px solid #68d391;
    }
    
    .badge.locked {
      opacity: 0.5;
    }
    
    .button {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #5850ec;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin: 10px 0;
      text-align: center;
    }
    
    .button:active {
      background-color: #4c46e8;
    }
    
    .language-toggle {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }
    
    .language-button {
      padding: 8px 15px;
      background-color: #f0f0f0;
      border-radius: 20px;
      margin: 0 5px;
      cursor: pointer;
    }
    
    .language-button.active {
      background-color: #5850ec;
      color: white;
    }
    
    .settings-section {
      margin-top: 30px;
    }

    @media (prefers-color-scheme: dark) {
      body {
        background-color: #121212;
        color: #e0e0e0;
      }
      
      .container {
        background-color: #1e1e1e;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      }
      
      .message-box {
        background-color: #2d3748;
      }
      
      .next-milestone, .badge {
        background-color: #2d2d2d;
      }
      
      .badge.achieved {
        background-color: #1c4532;
      }
      
      .progress-bar {
        background-color: #2d3748;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ø§ÙÙŠ</h1>
    </div>
    
    <div class="language-toggle">
      <div class="language-button active" onclick="switchLanguage('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
      <div class="language-button" onclick="switchLanguage('en')">English</div>
    </div>
    
    <div class="timer" id="timer">0 ÙŠÙˆÙ…ØŒ 0 Ø³Ø§Ø¹Ø©ØŒ 0 Ø¯Ù‚ÙŠÙ‚Ø©</div>
    
    <div class="message-box" id="message">
      Ø¨Ø¯Ø§ÙŠØªÙƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù‡ÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø±Ø­Ù„Ø© Ù‚ÙˆÙŠØ© ØªØ¬Ø§Ù‡ Ø­ÙŠØ§Ø© Ø£ÙØ¶Ù„.
    </div>
    
    <div class="next-milestone">
      <div class="milestone-icon">ğŸ†</div>
      <div class="milestone-info">
        <h3>Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h3>
        <p>3 Ø£ÙŠØ§Ù…</p>
        <div class="progress-info">
          <span>Ø§Ù„ØªÙ‚Ø¯Ù…</span>
          <span id="progress-text">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
        </div>
      </div>
    </div>
    
    <h2>Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</h2>
    <div class="badge-grid">
      <div class="badge locked">
        <div class="badge-icon">ğŸ¥‰</div>
        <div class="badge-label">3 Ø£ÙŠØ§Ù…</div>
      </div>
      <div class="badge locked">
        <div class="badge-icon">ğŸ¥ˆ</div>
        <div class="badge-label">7 Ø£ÙŠØ§Ù…</div>
      </div>
      <div class="badge locked">
        <div class="badge-icon">ğŸ¥‡</div>
        <div class="badge-label">30 ÙŠÙˆÙ…</div>
      </div>
      <div class="badge locked">
        <div class="badge-icon">ğŸŒŸ</div>
        <div class="badge-label">90 ÙŠÙˆÙ…</div>
      </div>
      <div class="badge locked">
        <div class="badge-icon">ğŸ’</div>
        <div class="badge-label">180 ÙŠÙˆÙ…</div>
      </div>
      <div class="badge locked">
        <div class="badge-icon">ğŸ‘‘</div>
        <div class="badge-label">365 ÙŠÙˆÙ…</div>
      </div>
    </div>
    
    <div class="settings-section">
      <button class="button" onclick="openDatePicker()">ØªØ¹Ø¯ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</button>
      <button class="button" style="background-color: #e53e3e;" onclick="resetDate()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ®</button>
    </div>
  </div>
  
  <script>
    const appData = {
      startDate: new Date(),
      language: 'ar'
    };

    const motivationalMessages = {
      ar: [
        "ÙƒÙ„ ÙŠÙˆÙ… ØªÙ…Ø± Ø¨Ù‡ Ù‡Ùˆ Ø§Ù†ØªØµØ§Ø± Ø¬Ø¯ÙŠØ¯ ÙŠØ¶Ø§Ù Ø¥Ù„Ù‰ Ù‚ÙˆØªÙƒ.",
        "Ø£Ù†Øª ØªØµÙ†Ø¹ ØªØ§Ø±ÙŠØ®Ù‹Ø§ Ø¬Ø¯ÙŠØ¯Ù‹Ø§ Ù„Ù†ÙØ³Ùƒ Ø§Ù„Ø¢Ù†ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¨Ù†Ø§Ø¡.",
        "Ø§Ù„ØªØºÙŠÙŠØ± ÙŠØ£ØªÙŠ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©ØŒ ÙˆØ£Ù†Øª ØªØ®Ø·Ùˆ Ø¨Ø«Ø¨Ø§Øª.",
        "Ù‚ÙˆØªÙƒ ØªÙƒÙ…Ù† ÙÙŠ Ø§Ø³ØªÙ…Ø±Ø§Ø±Ùƒ Ø±ØºÙ… Ø§Ù„ØµØ¹ÙˆØ¨Ø§Øª.",
        "ÙƒÙ„ ØµØ¨Ø§Ø­ Ø¬Ø¯ÙŠØ¯ Ù‡Ùˆ ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªÙƒÙˆÙ† Ø£ÙØ¶Ù„.",
        "Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ØªØµÙ†Ø¹ Ù…Ù†Ùƒ Ø´Ø®ØµÙ‹Ø§ Ø£Ù‚ÙˆÙ‰ØŒ ÙˆØ£Ù†Øª ØªØªØ¬Ø§ÙˆØ²Ù‡Ø§ ÙŠÙˆÙ…Ù‹Ø§ Ø¨Ø¹Ø¯ ÙŠÙˆÙ….",
        "Ø¨Ø¯Ø§ÙŠØªÙƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù‡ÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø±Ø­Ù„Ø© Ù‚ÙˆÙŠØ© ØªØ¬Ø§Ù‡ Ø­ÙŠØ§Ø© Ø£ÙØ¶Ù„.",
        "Ø§Ù„Ù†Ø¬Ø§Ø­ Ù„ÙŠØ³ Ø¨Ø¹Ø¯Ù… Ø§Ù„Ø³Ù‚ÙˆØ·ØŒ Ø¨Ù„ Ø¨Ø§Ù„Ù†Ù‡ÙˆØ¶ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø© ØªØ³Ù‚Ø· ÙÙŠÙ‡Ø§.",
        "Ø£Ù†Øª Ø£Ù‚ÙˆÙ‰ Ù…Ù…Ø§ ØªØ¹ØªÙ‚Ø¯ØŒ ÙˆØªØ³ØªØ·ÙŠØ¹ ØªØ­Ù‚ÙŠÙ‚ Ø£ÙƒØ«Ø± Ù…Ù…Ø§ ØªØªØ®ÙŠÙ„.",
        "Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ‚Ø¯Ù…ØŒ ÙØ§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ ÙŠÙ†ØªØ¸Ø± Ù†Ø³Ø®Ø© Ø£ÙØ¶Ù„ Ù…Ù†Ùƒ."
      ],
      en: [
        "Each day you pass is a new victory added to your strength.",
        "You are creating a new history for yourself now, keep building.",
        "Change comes step by step, and you are moving steadily.",
        "Your strength lies in your persistence despite difficulties.",
        "Each new morning is a new opportunity to be better.",
        "Challenges make you stronger, and you overcome them day by day.",
        "Your new beginning is the first step in a powerful journey toward a better life.",
        "Success is not about not falling, but about rising each time you fall.",
        "You are stronger than you think, and you can achieve more than you imagine.",
        "Keep moving forward, the future awaits a better version of you."
      ]
    };

    function updateTimer() {
      const now = new Date();
      const diff = now - appData.startDate;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      let timerText;
      if (appData.language === 'ar') {
        timerText = `${days} ÙŠÙˆÙ…ØŒ ${hours} Ø³Ø§Ø¹Ø©ØŒ ${minutes} Ø¯Ù‚ÙŠÙ‚Ø©`;
      } else {
        timerText = `${days} days, ${hours} hours, ${minutes} minutes`;
      }
      document.getElementById('timer').textContent = timerText;
      updateBadges(days);
      updateNextMilestone(days);
      const messageIndex = Math.floor(Math.random() * motivationalMessages[appData.language].length);
      document.getElementById('message').textContent = motivationalMessages[appData.language][messageIndex];
    }

    function updateBadges(days) {
      const badges = document.querySelectorAll('.badge');
      const milestoneDays = [3, 7, 30, 90, 180, 365];
      for (let i = 0; i < badges.length; i++) {
        if (days >= milestoneDays[i]) {
          badges[i].classList.remove('locked');
          badges[i].classList.add('achieved');
        } else {
          badges[i].classList.remove('achieved');
          badges[i].classList.add('locked');
        }
      }
    }

    function updateNextMilestone(days) {
      const milestoneDays = [3, 7, 30, 90, 180, 365];
      let nextMilestone = 365;
      for (let i = 0; i < milestoneDays.length; i++) {
        if (days < milestoneDays[i]) {
          nextMilestone = milestoneDays[i];
          break;
        }
      }
      const milestoneText = document.querySelector('.milestone-info p');
      if (appData.language === 'ar') {
        milestoneText.textContent = days >= 365 ? 'ØªÙ… ØªØ­Ù‚ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„!' : `${nextMilestone} Ø£ÙŠØ§Ù…`;
      } else {
        milestoneText.textContent = days >= 365 ? 'All milestones achieved!' : `${nextMilestone} days`;
      }
      let progress = 100;
      if (days < nextMilestone) {
        progress = Math.floor((days / nextMilestone) * 100);
      }
      document.getElementById('progress-fill').style.width = `${progress}%`;
      document.getElementById('progress-text').textContent = `${progress}%`;
    }

    function openDatePicker() {
      const dateString = prompt(appData.language === 'ar' ? 'Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (YYYY-MM-DD)' : 'Enter start date (YYYY-MM-DD)', formatDate(appData.startDate));
      if (dateString) {
        const newDate = new Date(dateString);
        if (!isNaN(newDate.getTime())) {
          appData.startDate = newDate;
          localStorage.setItem('startDate', newDate.toISOString());
          updateTimer();
        } else {
          alert(appData.language === 'ar' ? 'ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ§Ù„Ø­' : 'Invalid date');
        }
      }
    }

    function formatDate(date) {
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      return `${year}-${month}-${day}`;
    }

    function switchLanguage(lang) {
      appData.language = lang;
      localStorage.setItem('language', lang);
      const arButton = document.querySelector('.language-button:first-child');
      const enButton = document.querySelector('.language-button:last-child');
      if (lang === 'ar') {
        document.dir = 'rtl';
        document.documentElement.lang = 'ar';
        arButton.classList.add('active');
        enButton.classList.remove('active');
        document.querySelector('.header h1').textContent = 'Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ø§ÙÙŠ';
        document.querySelector('.milestone-info h3').textContent = 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©';
        document.querySelector('.progress-info span:first-child').textContent = 'Ø§Ù„ØªÙ‚Ø¯Ù…';
        document.querySelector('h2').textContent = 'Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª';
        document.querySelector('.button').textContent = 'ØªØ¹Ø¯ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©';
        document.querySelector('.button:last-child').textContent = 'Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ®';
      } else {
        document.dir = 'ltr';
        document.documentElement.lang = 'en';
        arButton.classList.remove('active');
        enButton.classList.add('active');
        document.querySelector('.header h1').textContent = 'Recovery Journey';
        document.querySelector('.milestone-info h3').textContent = 'Next Milestone';
        document.querySelector('.progress-info span:first-child').textContent = 'Progress';
        document.querySelector('h2').textContent = 'Achievements';
        document.querySelector('.button').textContent = 'Edit Start Date';
        document.querySelector('.button:last-child').textContent = 'Reset Date';
      }
      updateTimer();
    }

    function resetDate() {
      const newDate = new Date();
      appData.startDate = newDate;
      localStorage.setItem('startDate', newDate.toISOString());
      updateTimer();
      alert(appData.language === 'ar' ? 'ØªÙ… ØªØ¹ÙŠÙŠÙ† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ' : 'Start date has been set to current time');
    }

    function loadData() {
      const savedDate = localStorage.getItem('startDate');
      if (savedDate) {
        appData.startDate = new Date(savedDate);
      }
      const savedLanguage = localStorage.getItem('language');
      if (savedLanguage) {
        appData.language = savedLanguage;
        switchLanguage(savedLanguage);
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      loadData();
      updateTimer();
      setInterval(updateTimer, 60000);
    });
  </script>
</body>
</html>
